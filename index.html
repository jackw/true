<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>sass-true Documentation</title><link href="assets/img/favicon.ico" rel="shortcut icon"><link rel="stylesheet" href="assets/css/main.css"><link rel="stylesheet" href="assets/css/theme.css"></head><body><svg xmlns="http://www.w3.org/2000/svg" hidden><symbol id="icon-menu" viewBox="0 0 24 28"><title>menu icon</title><path d="M24 21v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1V5c0-.547.453-1 1-1h22c.547 0 1 .453 1 1z"/></symbol><symbol id="icon-search" viewBox="0 0 24 28"><title>search icon</title><path d="M24 21v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1v-2c0-.547.453-1 1-1h22c.547 0 1 .453 1 1zm0-8v2c0 .547-.453 1-1 1H1c-.547 0-1-.453-1-1V5c0-.547.453-1 1-1h22c.547 0 1 .453 1 1z"/></symbol></svg><div data-sassdoc-region="app"><header role="banner" data-sassdoc-region="banner"><button data-nav-toggle="small" data-toggle="button" aria-controls="nav-small" aria-pressed="false" data-toggle-synced="false"><svg data-icon="menu" data-icon-size="icon-small"><title>menu</title><use xlink:href="#icon-menu"/></svg></button> <button data-nav-toggle="large" data-toggle="button" aria-controls="nav-large" aria-pressed="true" data-toggle-synced="false"><svg data-icon="menu" data-icon-size="icon-small"><title>menu</title><use xlink:href="#icon-menu"/></svg></button><h1 data-sassdoc="project-title"><a href="index.html" rel="home" data-sassdoc="project-name">sass-true</a> <span data-sassdoc="project-version">2.2.2</span></h1></header><div data-sassdoc-region="container"><nav role="navigation" data-nav-menu="small" data-toggle="target" id="nav-small" data-target-id="nav-small" aria-expanded="false" data-auto-closing="false" data-auto-closing-on-any-click="false"><h3 data-sassdoc="nav-title"><a href="index.html" data-sassdoc-nav="is-active">sass-true</a></h3><li data-sassdoc="nav-item"><a href="api-assert.html" data-sassdoc-nav="is-not-active">Assertion API</a></li><li data-sassdoc="nav-item"><a href="api-report.html" data-sassdoc-nav="is-not-active">Reporting API</a></li><li data-sassdoc="nav-item"><a href="api-test.html" data-sassdoc-nav="is-not-active">Testing API</a></li><li data-sassdoc="nav-item"><a href="private-assert.html" data-sassdoc-nav="is-not-active">[assertion helpers]</a></li><li data-sassdoc="nav-item"><a href="private-context.html" data-sassdoc-nav="is-not-active">[data helpers]</a></li><li data-sassdoc="nav-item"><a href="private-message.html" data-sassdoc-nav="is-not-active">[reporting helpers]</a></li><li data-sassdoc="nav-item"><a href="private-test.html" data-sassdoc-nav="is-not-active">[test helpers]</a></li><li data-sassdoc="nav-item"><a href="private-utils.html" data-sassdoc-nav="is-not-active">[internal utilities]</a></li></nav><nav role="navigation" data-nav-menu="large" data-toggle="target" id="nav-large" data-target-id="nav-large" aria-expanded="true" data-auto-closing="false" data-auto-closing-on-any-click="false"><h3 data-sassdoc="nav-title"><a href="index.html" data-sassdoc-nav="is-active">sass-true</a></h3><li data-sassdoc="nav-item"><a href="api-assert.html" data-sassdoc-nav="is-not-active">Assertion API</a></li><li data-sassdoc="nav-item"><a href="api-report.html" data-sassdoc-nav="is-not-active">Reporting API</a></li><li data-sassdoc="nav-item"><a href="api-test.html" data-sassdoc-nav="is-not-active">Testing API</a></li><li data-sassdoc="nav-item"><a href="private-assert.html" data-sassdoc-nav="is-not-active">[assertion helpers]</a></li><li data-sassdoc="nav-item"><a href="private-context.html" data-sassdoc-nav="is-not-active">[data helpers]</a></li><li data-sassdoc="nav-item"><a href="private-message.html" data-sassdoc-nav="is-not-active">[reporting helpers]</a></li><li data-sassdoc="nav-item"><a href="private-test.html" data-sassdoc-nav="is-not-active">[test helpers]</a></li><li data-sassdoc="nav-item"><a href="private-utils.html" data-sassdoc-nav="is-not-active">[internal utilities]</a></li></nav><main role="main"><div data-sassdoc-region="main" data-sassdoc-page="index"><ul class="project-links"><li class="project-link-item" class="project-link-start"><a href="http://oddbird.net/true" class="project-link">View Project</a></li><li class="project-link-item"><a href="http://github.com/oddbird/true.git" class="project-link">View Source</a></li></ul><h1 id="true">True</h1><p><a href="https://travis-ci.org/oddbird/true"><img src="https://api.travis-ci.org/oddbird/true.svg" alt="Build Status"></a></p><p><em>Verb</em></p><ol><li>To make true; shape, adjust, place, etc., exactly or accurately: <em>True the wheels of a bicycle after striking a pothole.</em></li><li>To make even, symmetrical, level, etc. (often followed by <em>up</em>): <em>True up the sides of a door.</em></li><li>To test your Sass code; debug, perfect, etc. (often using <em>True</em>): <em>True your sweet plugin before you deploy.</em></li></ol><h2 id="install">Install</h2><p>in command line:</p><pre><code class="lang-bash"># ruby gem
gem install true

# bower package
bower install true

# npm module
npm install sass-true
</code></pre><h2 id="usage">Usage</h2><h3 id="with-any-sass-compiler">With any Sass compiler</h3><pre><code class="lang-scss">@import &quot;true&quot;;

@include test-module(&#39;Utilities&#39;) {

  // Testing Functions
  @include test(&#39;Map Add [function]&#39;) {
    $base: (one: 1, two: 1, three: 1);
    $add: (one: 1, two: 2, three: -1);

    $test: map-add($base, $add);
    $expect: (one: 2, two: 3, three: 0);
    @include assert-equal($test, $expect,
      &#39;Returns the sum of two numeric maps&#39;);
  }

  // Testing Mixins
  @include test(&#39;Font Size [mixin]&#39;) {
    @include assert(&#39;Outputs a font size and line height based on keyword.&#39;) {
      @include output {
        @include font-size(large);
      }

      @include expect {
        font-size: 2rem;
        line-height: 3rem;
      }
    }
  }
}

// Optionally show summary report in CSS and/or the command line:
// - If you use Mocha, reporting to the command line is automatic.
// - if you use true-cli, report(terminal) is required for output.
@include report;
</code></pre><p><strong>Note:</strong> Function unit-tests work across the board, but testing mixins can be a bit more complex. At this point, only Mocha is able to compare/report the results of mixin tests. Without using Mocha, you can test any mixin, but you will have to compare the expected and actual results manually in the output code. Version control can make that much easier than it sounds.</p><h3 id="with-node-sass-and-mocha-or-other-js-test-runners-">With node-sass and Mocha (or other JS test runners)</h3><ol><li><p>Install <code>true</code> via npm (<code>npm install sass-true</code>).</p></li><li><p>Write some Sass tests in <code>test/test.scss</code> (see above).</p></li><li><p>Write a shim JS test file in <code>test/test_sass.js</code>:</p><pre><code class="lang-javascript">var path = require(&#39;path&#39;);
var sassTrue = require(&#39;sass-true&#39;);

var sassFile = path.join(__dirname, &#39;test.scss&#39;);
sassTrue.runSass({file: sassFile}, describe, it);
</code></pre></li><li><p>Run Mocha, and see your Sass tests reported as individual test results.</p></li></ol><p>You can call <code>runSass</code> more than once, if you have multiple Sass test files you want to run separately.</p><p>The first argument to <code>runSass</code> accepts the same options that node-sass&#39; <code>renderSync</code> function accepts. The only modification <code>runSass</code> makes is to add True&#39;s sass path to the <code>includePaths</code> option, so <code>@import &#39;true&#39;;</code> works in your Sass test file.</p><p>Any other JS test runner with equivalents to Mocha&#39;s <code>describe</code> and <code>it</code> should be usable in the same way; just pass your test runner&#39;s <code>describe</code> and <code>it</code> equivalents into <code>runSass</code>.</p><p>If True&#39;s Mocha plugin can&#39;t parse the CSS output from True, it&#39;ll give you some context lines of CSS as part of the error message. This context will likely be helpful in understanding the parse failure. By default it provides up to 10 lines of context; if you need more, you can provide a numeric fourth argument to <code>runSass</code>, the maximum number of context lines to provide.</p><h4 id="with-grunt-">With Grunt...</h4><p>Run Mocha using the Grunt task supplied by <a href="https://github.com/Rowno/grunt-mocha-cli">grunt-mocha-cli</a></p><p>Install <code>grunt-mocha-cli</code>:</p><pre><code class="lang-bash">npm install grunt-mocha-cli --save-dev
</code></pre><p>Configure task:</p><pre><code class="lang-javascript">grunt.loadNpmTasks(&#39;grunt-mocha&#39;);

mochacli: {
   all: [&#39;test/test_sass.js&#39;]
},
</code></pre><p>Run tests:</p><pre><code class="lang-bash">grunt mochacli
</code></pre><h3 id="with-ruby-sass-on-the-command-line">With ruby-sass on the command line</h3><pre><code class="lang-bash">true-cli [options] PATH
</code></pre><p>Options:</p><ul><li><code>-s</code> silent</li><li><code>-c</code> config file</li><li><code>-d</code> debug config file settings</li></ul><p>Config file (optional):</p><pre><code class="lang-yaml">options:
  color: true  # enables colored output

# require ruby sass extension libraries
require:
  - &quot;compass&quot;
  - &quot;serialy/sassy&quot;
</code></pre><p>default location: <code>test/true.yml</code></p><h2 id="settings">Settings</h2><p>There is only one setting: <code>$true-terminal-output</code> toggles output to the terminal on or off.</p><ul><li><code>true</code> will show detailed information on failing assertions. This is the default, and best for using <code>true-cli</code>.</li><li><code>false</code> to turn off all terminal output.</li></ul><h2 id="api">API</h2><h3 id="tests">Tests</h3><p>Tests help define what we are testing for. They can be used individually or grouped as a test module.</p><h4 id="-include-test-module-"><code>@include test-module()</code></h4><p>Defines a test module. Allows the grouping of several common purposed tests.</p><ul><li><code>@param</code> {<code>String</code>} <code>$description</code> [&#39;&#39;] - Module description</li></ul><pre><code class="lang-scss">  @include test-module(&#39;Description of the module being tested&#39;) {
    // Your tests here
  }
</code></pre><h4 id="-include-test-"><code>@include test()</code></h4><p>Defines a test. Allows the definition of a single test for your module.</p><ul><li><code>@param</code> {<code>String</code>} <code>$description</code> [&#39;&#39;] - Test description</li></ul><pre><code class="lang-scss">  @include test-module(&#39;My test module description&#39;) {
    @include test(&#39;Your test description&#39;) {
      // Your asserts go here.
    }
  }
</code></pre><h3 id="asserts">Asserts</h3><p>Asserts help define what we are testing for. A test must contain at least one assert but can have as many as necessary based on your testing needs.</p><h4 id="-include-assert-"><code>@include assert()</code></h4><p>Defines a single assert for a CSS output. It&#39;s used together with the <code>output()</code> and <code>expect()</code> mixins to compare a mixin with it&#39;s expected output.</p><pre><code class="lang-scss">  @include test(&#39;Your test description&#39;) {
    @include assert(&#39;Your assert description&#39;) {
      @include output {
        // Mixin to be evaluated
        @include the-mixin-to-be-tested();
      }

      @include expect {
        // The expected output of the-mixin-to-be-tested()
        ...
      }
    }
  }
</code></pre><h4 id="-include-assert-false-"><code>@include assert-false()</code></h4><p>Asserts that the output of a test is falsy. This includes <code>false</code>, <code>null</code>, <code>&#39;&#39;</code> (empty string) and <code>()</code> (empty list).</p><ul><li><code>@param</code> {<code>*</code>} <code>$assert</code> - Assert to be tested</li><li><code>@param</code> {<code>String</code>} <code>$description</code> [&#39;&#39;] - Assert description</li></ul><pre><code class="lang-scss">  @include test(&#39;Your test description&#39;) {
    $test: sample-function(5);

    @include assert-false($test, &#39;Your assert description&#39;);
  }
</code></pre><h4 id="-include-assert-true-"><code>@include assert-true()</code></h4><p>Asserts that the output of a test is not falsy. The test will pass as long as the assert returns something.</p><ul><li><code>@param</code> {<code>*</code>} <code>$assert</code> - Assert to be tested</li><li><code>@param</code> {<code>String</code>} <code>$description</code> [&#39;&#39;] - Assert description</li></ul><pre><code class="lang-scss">  @include test(&#39;Your test description&#39;) {
    $test: sample-function(5);

    @include assert-true($test, &#39;Your assert description&#39;);
  }
</code></pre><h4 id="-include-assert-equal-"><code>@include assert-equal()</code></h4><p>Asserts that two parameters are equal.</p><ul><li><code>@param</code> {<code>*</code>} <code>$assert</code> - Assert to be tested</li><li><code>@param</code> {<code>*</code>} <code>$expected</code> - Expected result</li><li><code>@param</code> {<code>String</code>} <code>$description</code> [&#39;&#39;] - Assert description</li></ul><pre><code class="lang-scss">  @include test(&#39;Your test description&#39;) {
    $test: sample-function(5);

    @include assert-equals($test, 10, &#39;Your assert description&#39;);
  }
</code></pre><h4 id="-include-assert-unequal-"><code>@include assert-unequal()</code></h4><p>Asserts that two parameters are unequal.</p><ul><li><code>@param</code> {<code>*</code>} <code>$assert</code> - Assert to be tested</li><li><code>@param</code> {<code>*</code>} <code>$expected</code> - Expected result</li><li><code>@param</code> {<code>String</code>} <code>$description</code> [&#39;&#39;] - Assert description</li></ul><pre><code class="lang-scss">  @include test(&#39;Your test description&#39;) {
    $test: sample-function(5);

    @include assert-unequal($test, 10, &#39;Your assert description&#39;);
  }
</code></pre><h3 id="summary">Summary</h3><p>Reports show a summary of total, passed, failed, and output to CSS tests. The summary can be output into CSS and/or onto the terminal. If you use Mocha, reporting to the command line is automatic. If you use true-cli, <code>@include report(terminal)</code> is required at the end of your main test file for output.</p><h4 id="-include-report-"><code>@include report()</code></h4><p>Reports summary and stats data into CSS and/or onto the terminal.</p><ul><li><code>@param</code> {<code>Bool</code>} <code>$terminal</code> [<code>true</code>] - Optionally output results to the terminal</li><li><code>@param</code> {<code>Bool</code>} <code>$fail-on-error</code> [<code>false</code>] - Optionally error out the compiler if tests have failed</li></ul><pre><code class="lang-scss">  @include report();
</code></pre></div></main></div></div><script type="text/javascript" src="assets/js/jquery-3.1.1.slim.js"></script><script type="text/javascript" src="assets/js/highlight.js"></script><script type="text/javascript" src="assets/js/base.js"></script><script type="text/javascript" src="assets/js/init.js"></script></body></html>